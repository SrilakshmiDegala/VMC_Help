<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>FIR TDM</title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
</style>
  <style type="text/css">body {font-family: arial, helvetica, sans-serif;font-size: 10pt;font-weight: normal;}#title-block-header {display:none;}.level1{margin-left: 0px;}.level2{margin-left: 0px;}.level3{margin-left: 15px;}.level4{margin-left: 15px;}h4 {color:#c06838;}.level5{margin-left: 15px;}.level6{margin-left: 15px;}table {border-spacing: 2px;display: block;font-size: 14px;overflow: auto;width: 100%;margin-bottom: 16px;border-spacing: 0;border-collapse: collapse;}td {padding: 6px 13px;border: 1px solid #dfe2e5;}th {font-weight: 600;padding: 6px 13px;border: 1px solid #dfe2e5;}tr {background-color: #fff;border-top: 1px solid #c6cbd1;}table tr:nth-child(2n) {background-color: #f6f8fa;}.noteBox::before{content: "NOTE:";font-weight: bold;font-size: 11pt;color: #0096C7;}.noteBox{border: 2px solid;border-radius: 5px;padding: 10px;margin: 10px 0;width: 80%;border-color: #0096C7;background-color: rgba(0, 150, 199, 0.1);}</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">FIR TDM</h1>
</header>
<section id="fir-tdm" class="level1">
<h1>FIR TDM</h1>
<p>Time-Division Multiplexing FIR Filter for AI Engines.</p>
<p><img src="data:image/png;base64,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" /></p>
<section id="library" class="level2">
<h2>Library</h2>
<p>AI Engine/DSP/Buffer IO</p>
</section>
<section id="description" class="level2">
<h2>Description</h2>
<p>Time-Division Multiplexing FIR Filter for AI Engines.</p>
</section>
<section id="parameters" class="level2">
<h2>Parameters</h2>
<section id="main" class="level3">
<h3>Main</h3>
<section id="inputoutput-data-type" class="level4">
<h4>Input/Output data type</h4>
<p>Set the data type of the block input and output. The data type of the
input signal to the block must match this setting.</p>
</section>
<section id="filter-coefficients-data-type" class="level4">
<h4>Filter coefficients data type</h4>
<p>Set the filter coefficients data type. This parameter&#39;s setting may
be restricted based on the Input/Output data type. In particular,</p>
<ul>
<li>Complex types are only supported when the Input/Output data type is
also complex.</li>
<li>32-bit types are only supported when the Input/Output data type is
also a 32-bit type.</li>
<li>Filter coefficients data type must be an integer type if the
Input/Output data type is an integer type.</li>
<li>Filter coefficients data type must be a float type if the
Input/Output data type is a float type.</li>
</ul>
</section>
<section id="provide-second-set-of-output-ports" class="level4">
<h4>Provide second set of output ports</h4>
<p>When this option is enabled, a second output port is added to the
block producing the same data as the first output port.</p>
</section>
<section id="provide-second-set-of-input-ports" class="level4">
<h4>Provide second set of input ports</h4>
<p>When this option is enabled, a second input port can be connected to
the FIR, increasing available throughput. In Simulink, both input ports
should be connected to the same signal.</p>
<p>This setting is an implementation trade-off between performance and
data bank resources. When this option is disabled, the FIR performance
may be limited by load contention; when this option is enabled, two RAM
banks are used for input, reducing load contention.</p>
</section>
<section id="filter-length" class="level4">
<h4>Filter length</h4>
<p>This field describes the number of taps (coefficients) in the
filter.</p>
</section>
<section id="filter-coefficients" class="level4">
<h4>Filter coefficients</h4>
<p>This field specifies the filter coefficients.</p>
<p>This field must be a one-dimensional vector with length equal to the
<code>Filter length</code> multipled by
<code>Number of TDM channels</code>. For example, <code>N</code>
coefficients for <code>M</code> channels should be specified as
follows:</p>
<p><code>[coeffs0(1), coeffs0(2), ... coeffs0(N), coeffs1(1), coeffs1(2), ... coeffs(N), ... coeffsM(1), coeffsM(2), ... coeffsM(N)]</code></p>
<div class="noteBox">
You could also define the coefficients as an array variable in the MATLAB workspace and specify the variable name in this field.
</div>

</section>
<section id="scale-output-down-by-2" class="level4">
<h4>Scale output down by 2^</h4>
<p>Sets the power of 2 shift down applied to the accumulator of FIR
before output. It must be in the range 0 to 61 inclusive.</p>
</section>
<section id="rounding-mode" class="level4">
<h4>Rounding mode</h4>
<p>Describes the selection of rounding to be applied during the shift
down stage of processing.</p>
<p>The following modes are available:</p>
<ul>
<li><strong>Floor:</strong> Truncate LSB, always round down (towards
negative infinity).</li>
<li><strong>Ceiling:</strong> Always round up (towards positive
infinity).</li>
<li><strong>Round to positive infinity:</strong> Round halfway towards
positive infinity.</li>
<li><strong>Round to negative infinity:</strong> Round halfway towards
negative infinity.</li>
<li><strong>Round symmetrical to infinity:</strong> Round halfway
towards infinity (away from zero).</li>
<li><strong>Round symmetrical to zero:</strong> Round halfway towards
zero (away from infinity).</li>
<li><strong>Round convergent to even:</strong> Round halfway towards
nearest even number.</li>
<li><strong>Round convergent to odd:</strong> Round halfway towards
nearest odd number.</li>
</ul>
<p>No rounding is performed on the <strong>Floor</strong> or
<strong>Ceiling</strong> modes. Other modes round to the nearest
integer. They differ only in how they round for values that are exactly
between two integers.</p>
</section>
<section id="input-window-size-number-of-samples" class="level4">
<h4>Input window size (Number of samples)</h4>
<p>Describes the number of samples used as an input to the filter
function. Because this is a single rate filter, the number of samples in
the output window will match the size of the input window. This must be
in the range of 4 to 8192 inclusive.</p>
</section>
<section id="number-of-tdm-channels" class="level4">
<h4>Number of TDM channels</h4>
<p>Describes the number of Time-Division Multiplexed (TDM) channels
processed by the FIR.</p>
<p>Each kernel requires storage for all taps and all channels it is
required to operate on.</p>
</section>
<section id="saturation-mode" class="level4">
<h4>Saturation mode</h4>
<p>Describes the selection of saturation to be applied during the shift
down stage of processing.</p>
<p>The following modes are available:</p>
<ul>
<li><strong>None:</strong> No saturation is performed and the value is
truncated on the MSB side.</li>
<li><strong>Asymmetric:</strong> Rounds an n-bit signed value in the
range <code>-2^(n-1)</code> to <code>2^(n-1)-1</code>.</li>
<li><strong>Symmetric:</strong> Rounds an n-bit signed value in the
range <code>-2^(n-1)-1</code> to <code>2^(n-1)-1</code>.</li>
</ul>
</section>
</section>
<section id="constraints" class="level3">
<h3>Constraints</h3>
<p>Click on the button given here to access the constraint manager and
add or update constraints for each kernel. If you set the &quot;Number of
cascade stages&quot; parameter to a value greater than one, multiple kernels
will be used to process the input. You can use the constraint manager to
optimize the performance of your design by setting specific constraints
for each kernel (in this case, you need to first run your design).
Adding constraints will not affect the functional simulation in
Simulink. Constraints will only affect the generated graph code, cycle
approximate AIE simulation (System C), and behavior in hardware.</p>
<div class="noteBox">
If you are using non-default constraints for any of the kernels for the block, an asterisk (*) will be displayed next to the button.
</div>

</section>
</section>
<section id="examples" class="level2">
<h2>Examples</h2>
<section id="references" class="level3">
<h3>References</h3>
<p>This block uses the Vitis DSP library implementation of a TDM FIR
filter. For more details on this implementation please click <a href="https://docs.xilinx.com/r/en-US/Vitis_Libraries/dsp/user_guide/L2/func-fir-filters.html">here</a>.</p>
</section>
</section>
</section>
</body>
</html>
